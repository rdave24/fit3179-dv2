<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"> 
    <title> FIT3179: Data Visulation II </title>

    <!-- CSS file -->
    <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">

    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

</head>

<body>
    <div class="header">
        <img src="./images/logo.png">
        <h1>Formula One 1950 - 2023</h1>
    </div>

    <div class="divider"></div>

    <div class="body-top">
        <div class="box-top">

                <b>Formula One </b>is the highest class for open seater racing cars sanctioned by the 
                Fêdêration Internationale de l'Automobile (FIA). The sport first started in 1950,
                and currently has 10 teams, and 20 drivers every year. The following visulation will
                cover the data from the kaggle set about the history of F1.
        </div>
    </div>

    <div class="body-tracks">
        <div class="box-tracks">
            <h1>Tracks</h1>
            <div class="grid-container-tracks">
                <div class="grid-item-tracks-map" id="map"></div>
                <div class="grid-item-tracks-map-text"> 
                    The map visulation shows the location of all the tracks that Forumula One 
                    has races in from 1950 onwards. While F1 claims to be an internation sport
                    trying to reach most of the world, it is clear that the sport is still 
                    Europe dominant. While the data is skewed due to the fact that the sport in
                    its early years would race mainly in Europe and as of more recent year there
                    have been more races in the other continents, in the latest season 9 out of 
                    the 23 races were still in Europe.
                </div>
            </div>

            <div class="grid-container-tracks">
                <div class="grid-item-tracks-graph-text"> 
                    Looking at a zoomed in map of europe, we can even see that the sport is more 
                    concentrated in the western part of Europe. This is due to the fact that the
                    sport originated in Europe and the teams are based in Europe. This is further
                    supported by the tracks that have been on the F1 calander for the longest time
                    have mostly all been in Europe. 

                </div>
                <div class="grid-item-tracks-graph" id="europe"></div>
            </div>
        </div>
    </div>


    <div class="body-drivers">
        <div class="box-drivers">
            <h1>Drivers</h1>
            <div class="grid-container-drivers">
                <div class="grid-item-drivers-constructors-graph" id="driversMap"></div>
                <div class="grid-item-tracks-constructors-text"> 
                    The map visulation shows the location of all the tracks that Forumula One 
                    has races in from 1950 onwards. While F1 claims to be an internation sport
                    trying to reach most of the world, it is clear that the sport is still 
                    Europe dominant. While the data is skewed due to the fact that the sport in
                    its early years would race mainly in Europe and as of more recent year there
                    have been more races in the other continents, in the latest season 9 out of 
                    the 23 races were still in Europe.
                </div>
            </div>
        </div>
    </div>

    <div class="body">
        <div class="box">
            <h1>Constructors</h1>
        </div>
    </div>

    <div class="body">
        <div class="box">
            <h1>Other Fun Facts</h1>
        </div>
    </div>

    <div class="body-bottom">
        <div class="box-bottom">
            <h1>Thank You :)</h1>
        </div>
    </div>

    <!---
    JSON data for map of tracks in the world
    --->
    <script>
        var spec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "width": 550,
            "height": 350,
            "data": { "url": "https://raw.githubusercontent.com/rdave24/fit3179-dv2/main/data/formula_one.circuits.csv" },
            "projection": {
                "type": "equalEarth"
            },
            "layer": [
                {
                    "data": {
                        "url": "https://raw.githubusercontent.com/FIT3179/Vega-Lite/main/2_symbol_map/js/ne_110m_admin_0_countries.topojson",
                        "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
                    },
                    "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
                }, 
                {   
                    "mark": "point",
                    "encoding": {
                        "longitude": { "field": "lng", "type": "quantitative" },
                        "latitude": { "field": "lat", "type": "quantitative" },
                        "color": {
                            "field": "raceCount", 
                            "type": "quantitative",
                            "scale": {
                                "range": ["#f1807e", "#800000"]
                            }
                        }
                    }
                }
            ]
        };
        

        // Get the container element where you want to embed the chart
        var container = document.getElementById("map");
    
        // Embed the chart in the container
        vegaEmbed(container, spec);
    </script>

    <!---
    JSON data for map of tracks in Europe
    --->
    <script>
        var spec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "width": 400,
            "height": 250,
            "data": { "url": "https://raw.githubusercontent.com/rdave24/fit3179-dv2/main/data/formula_one.circuits.csv" },
            "projection": {
                "type": "mercator",
                "center": [10, 48],
                "scale": 425,
            },
            "layer": [
                {
                    "data": {
                        "url": "https://raw.githubusercontent.com/rdave24/rdave24.github.io/main/data/maps/europe.topojson",
                        "format": {"type": "topojson", "feature": "europe"}
                    },
                    "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
                }, 
                {   
                    "mark": "point",
                    "encoding": {
                        "longitude": { "field": "lng", "type": "quantitative" },
                        "latitude": { "field": "lat", "type": "quantitative" },
                        "color": {
                            "field": "raceCount", 
                            "type": "quantitative",
                            "scale": {
                                "range": ["#f1807e", "#800000"]
                            }
                        }
                    }
                }
            ]
        };


        // Get the container element where you want to embed the chart
        var container = document.getElementById("europe");

        // Embed the chart in the container
        vegaEmbed(container, spec);
    </script>


    <!---
    JSON data for map of tracks in Europe
    --->
    <script>
        var spec = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 600,
    "height": 350,
    "data": {
        "url": "https://raw.githubusercontent.com/rdave24/rdave24.github.io/main/data/formula_one.driversChampionships.csv"
    },
    "mark": {"type": "bar","color": "#f1807e"},
    "encoding": {
        "x": {"field": "fullName", "type": "nominal", "sort": null},
        "y": {
            "field": "championshipsWon",
            "type": "quantitative",
            "sort": "descending",
            "scale": {"domain": [7, 0]} 
        }
    }
}



        // Get the container element where you want to embed the chart
        var container = document.getElementById("driversMap");

        // Embed the chart in the container
        vegaEmbed(container, spec);
    </script>

</body>

</html>